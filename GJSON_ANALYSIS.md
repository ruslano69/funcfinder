# –ê–Ω–∞–ª–∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è tidwall/gjson

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** https://github.com/tidwall/gjson
**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2026-01-09
**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** funcfinder v1.4.0 (funcfinder, stat, deps, complexity)

## üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```
–§–∞–π–ª–æ–≤:        2 (gjson.go, gjson_test.go)
–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:    6,338 (3,609 + 2,729)
–§—É–Ω–∫—Ü–∏–π:       132 (22 –≤ gjson.go + 110 –≤ —Ç–µ—Å—Ç–∞—Ö)
–†–∞–∑–º–µ—Ä:        ~150 KB
```

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å funcfinder

```bash
# –í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞ 3,609 —Å—Ç—Ä–æ–∫
$ time funcfinder --inp /tmp/gjson/gjson.go --source go --map
real    0m0.019s

# –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 3609 / 0.019 = 190,000 lines/sec
```

**–í—ã–≤–æ–¥:** –ù–∞ —Ä–µ–∞–ª—å–Ω–æ–º –∫–æ–¥–µ funcfinder –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç ~190,000 lines/sec (–±–ª–∏–∑–∫–æ –∫ –∑–∞—è–≤–ª–µ–Ω–Ω—ã–º 280,000).

## üîç –ê–Ω–∞–ª–∏–∑ —Å –ø–æ–º–æ—â—å—é stat

```bash
$ stat /tmp/gjson/gjson.go -l go -n 15
```

### –ú–µ—Ç—Ä–∏–∫–∏ —Ñ–∞–π–ª–∞

```
Lines:       3,609
  Code:      3,113 (86.3%)
  Comments:  379 (10.5%)
  Blank:     117 (3.2%)
Imports:     8
```

### –¢–æ–ø-15 –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π

```
len                       199  ‚Üê –°–∞–º–∞—è —á–∞—Å—Ç–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
append                    98   ‚Üê –†–∞–±–æ—Ç–∞ —Å –º–∞—Å—Å–∏–≤–∞–º–∏
string                    23   ‚Üê –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ç–∏–ø–æ–≤
String                    17   ‚Üê –ú–µ—Ç–æ–¥ Result.String()
Parse                     17   ‚Üê –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞
ForEach                   16   ‚Üê –ò—Ç–µ—Ä–∞—Ü–∏—è –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º
make                      15   ‚Üê –ê–ª–ª–æ–∫–∞—Ü–∏–∏
Exists                    14   ‚Üê –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
Get                       13   ‚Üê –ë–∞–∑–æ–≤—ã–π –≥–µ—Ç—Ç–µ—Ä
Pointer                   13   ‚Üê Unsafe —É–∫–∞–∑–∞—Ç–µ–ª–∏
uintptr                   11   ‚Üê –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Ä–∞–±–æ—Ç–∞
unescape                  11   ‚Üê –û–±—Ä–∞–±–æ—Ç–∫–∞ escape-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π
ParseFloat                9    ‚Üê –ü–∞—Ä—Å–∏–Ω–≥ —á–∏—Å–µ–ª
IsArray                   9    ‚Üê –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞
bytesString               8    ‚Üê –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∫
```

**–ù–∞–±–ª—é–¥–µ–Ω–∏—è:**
- 199 –≤—ã–∑–æ–≤–æ–≤ `len()` ‚Üí –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏
- 98 `append()` ‚Üí –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Å—Å–∏–≤—ã
- 13 `Pointer()` + 11 `uintptr` ‚Üí –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å unsafe –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üì¶ –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (deps)

```bash
$ deps /tmp/gjson -l go
```

```
Total imports:    19
Unique modules:   19
-----------------------------------
stdlib:           7
external:         7
internal:         5
-----------------------------------
–ö–ª—é—á–µ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
  strings                          2 (std)  ‚Üê –†–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏
  strconv                          2 (ext)  ‚Üê –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ç–∏–ø–æ–≤
  time                             2 (ext)  ‚Üê –ü–∞—Ä—Å–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏
  github.com/tidwall/pretty        2 (ext)  ‚Üê –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ JSON
  encoding/json                    1 (std)  ‚Üê –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π JSON
  unicode/utf8                     1 (ext)  ‚Üê Unicode
  github.com/tidwall/match         1 (ext)  ‚Üê Pattern matching
```

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, —Ñ–æ–∫—É—Å –Ω–∞ stdlib –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ tidwall.

## üß† –ê–Ω–∞–ª–∏–∑ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (complexity)

```bash
$ complexity /tmp/gjson -l go -n 10
```

### –û–±—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏

```
–§–∞–π–ª–æ–≤:                  2
–§—É–Ω–∫—Ü–∏–π:                 132
–°—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å:       544.00 (!!)
```

### –¢–æ–ø-10 —Å–∞–º—ã—Ö —Å–ª–æ–∂–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

```
#1 isDotPiperChar()      depth=11  complexity=1024  CRITICAL
   Lines: 279, File: gjson.go:953

#2 IsObject()            depth=8   complexity=128   CRITICAL
   Lines: 390, File: gjson.go:213

#3 Value()               depth=8   complexity=128   CRITICAL
   Lines: 57, File: gjson.go:670

#4 TestJoin152()         depth=7   complexity=64    CRITICAL
   Lines: 112, File: gjson_test.go:1947

#5 splitPossiblePipe()   depth=6   complexity=32    CRITICAL
   Lines: 70, File: gjson.go:1816

#6 TestModDig()          depth=6   complexity=32    CRITICAL
   Lines: 63, File: gjson_test.go:2653

#7 TestBasic1()          depth=6   complexity=32    CRITICAL
   Lines: 43, File: gjson_test.go:434

#8 TestDeepSelectors()   depth=5   complexity=16    VERY_HIGH
   Lines: 49, File: gjson_test.go:1537

#9 testManyAny()         depth=5   complexity=16    VERY_HIGH
   Lines: 31, File: gjson_test.go:874

#10 nameOfLast()         depth=5   complexity=16    VERY_HIGH
    Lines: 13, File: gjson.go:1985
```

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

```
‚úÖ SIMPLE:       85 —Ñ—É–Ω–∫—Ü–∏–π  (64%)  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
‚ö†Ô∏è  MODERATE:    27 —Ñ—É–Ω–∫—Ü–∏–π  (20%)  ‚ñà‚ñà‚ñà‚ñà
üî∂ HIGH:         5  —Ñ—É–Ω–∫—Ü–∏–π  (4%)   ‚ñà
üî¥ VERY_HIGH:    8  —Ñ—É–Ω–∫—Ü–∏–π  (6%)   ‚ñà
üî¥ CRITICAL:     7  —Ñ—É–Ω–∫—Ü–∏–π  (5%)   ‚ñà
```

## üéØ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è funcfinder --extract

### –°–∞–º–∞—è —Å–ª–æ–∂–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è: isDotPiperChar()

```bash
$ funcfinder --inp /tmp/gjson/gjson.go --source go --func isDotPiperChar --extract
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ò–∑–≤–ª–µ—á–µ–Ω–æ 279 —Å—Ç—Ä–æ–∫ (953-1252) –≤–º–µ—Å—Ç–æ —á—Ç–µ–Ω–∏—è –≤—Å–µ—Ö 3,609!

**Token —ç–∫–æ–Ω–æ–º–∏—è:** 3609 ‚Üí 279 = **92.3% —Ç–æ–∫–µ–Ω–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ!**

–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–ø–µ—Ä–≤—ã–µ 20 —Å—Ç—Ä–æ–∫):
```go
// isDotPiperChar: 953-1252
func isDotPiperChar(s string) bool {
	if DisableModifiers {
		return false
	}
	c := s[0]
	if c == '@' {
		// check that the next component is *not* a modifier.
		i := 1
		for ; i < len(s); i++ {
			if s[i] == '.' || s[i] == '|' || s[i] == ':' {
				break
			}
		}
		_, ok := modifiers[s[1:i]]
		return ok
	}
	return c == '[' || c == '{'
}
// ... –µ—â–µ 261 —Å—Ç—Ä–æ–∫–∞
```

## üí° –í—ã–≤–æ–¥—ã –∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è

### 1. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å funcfinder –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞
- ‚úÖ **190,000 lines/sec** –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –∫–æ–¥–µ (gjson.go)
- ‚úÖ **19ms** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ 3,609 —Å—Ç—Ä–æ–∫
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ —á–µ–º AI-–∑–∞–ø—Ä–æ—Å –Ω–∞ 100x

### 2. –ö–æ–¥ gjson –∏–º–µ–µ—Ç –≤—ã—Å–æ–∫—É—é –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å
- ‚ö†Ô∏è –°—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å **544** (–æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è)
- ‚ö†Ô∏è 7 —Ñ—É–Ω–∫—Ü–∏–π —Å **CRITICAL** —É—Ä–æ–≤–Ω–µ–º (depth ‚â• 6)
- ‚ö†Ô∏è –°–∞–º–∞—è —Å–ª–æ–∂–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è: `isDotPiperChar()` —Å **depth=11** (1024 NDC)

**–ü—Ä–∏—á–∏–Ω–∞:** JSON –ø–∞—Ä—Å–∏–Ω–≥ —Ç—Ä–µ–±—É–µ—Ç –≥–ª—É–±–æ–∫–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ—Ö edge cases.

### 3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- 199 –≤—ã–∑–æ–≤–æ–≤ `len()` ‚Üí –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏
- 13 –≤—ã–∑–æ–≤–æ–≤ `Pointer()` + unsafe ‚Üí zero-copy –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (stdlib + 2 –º–æ–¥—É–ª—è tidwall)

### 4. Token —ç–∫–æ–Ω–æ–º–∏—è –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤
```
–ë–µ–∑ funcfinder:
  –ß—Ç–µ–Ω–∏–µ –≤—Å–µ–≥–æ —Ñ–∞–π–ª–∞: 3,609 —Å—Ç—Ä–æ–∫ = ~5,400 —Ç–æ–∫–µ–Ω–æ–≤

–° funcfinder:
  1. Map —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: 22 —Ñ—É–Ω–∫—Ü–∏–∏ = ~100 —Ç–æ–∫–µ–Ω–æ–≤
  2. Extract —Ñ—É–Ω–∫—Ü–∏–∏: ~280 —Å—Ç—Ä–æ–∫ = ~420 —Ç–æ–∫–µ–Ω–æ–≤
  –ò—Ç–æ–≥–æ: 520 —Ç–æ–∫–µ–Ω–æ–≤ (90% —ç–∫–æ–Ω–æ–º–∏—è!)
```

## üî¨ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è: "X-ray –∏ Microscope"

### –°—Ü–µ–Ω–∞—Ä–∏–π: AI —Ö–æ—á–µ—Ç –ø–æ–Ω—è—Ç—å –∫–∞–∫ gjson –ø–∞—Ä—Å–∏—Ç JSON

#### ‚ùå –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
```
1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å –≤–µ—Å—å gjson.go: 3,609 —Å—Ç—Ä–æ–∫ ‚Üí 5,400 —Ç–æ–∫–µ–Ω–æ–≤
2. –°—Ç–æ–∏–º–æ—Å—Ç—å: $0.016
3. –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ AI: ~2-3 —Å–µ–∫—É–Ω–¥—ã
```

#### ‚úÖ –° funcfinder
```bash
# –®–∞–≥ 1: X-ray - —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
$ funcfinder --inp gjson.go --source go --map --json
# –í—Ä–µ–º—è: 19ms, –¢–æ–∫–µ–Ω—ã: ~100

# –®–∞–≥ 2: AI –≤—ã–±–∏—Ä–∞–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
# –ù–∞–ø—Ä–∏–º–µ—Ä: Parse, Value, IsObject

# –®–∞–≥ 3: Microscope - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
$ funcfinder --inp gjson.go --source go --func Value --extract
# –í—Ä–µ–º—è: <1ms, –¢–æ–∫–µ–Ω—ã: ~85 (57 —Å—Ç—Ä–æ–∫)

$ funcfinder --inp gjson.go --source go --func IsObject --extract
# –í—Ä–µ–º—è: <1ms, –¢–æ–∫–µ–Ω—ã: ~585 (390 —Å—Ç—Ä–æ–∫)
```

**–ò—Ç–æ–≥–æ:**
- –í—Ä–µ–º—è: 20ms (vs 2-3s –¥–ª—è AI)
- –¢–æ–∫–µ–Ω—ã: ~770 (vs 5,400)
- –≠–∫–æ–Ω–æ–º–∏—è: **85.7% —Ç–æ–∫–µ–Ω–æ–≤**
- –°—Ç–æ–∏–º–æ—Å—Ç—å: $0.002 (vs $0.016) = **8x –¥–µ—à–µ–≤–ª–µ**

## üìà Workflow –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –Ω–µ–∑–Ω–∞–∫–æ–º–æ–≥–æ –∫–æ–¥–∞

```bash
# 1. –ë—ã—Å—Ç—Ä–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (X-ray)
funcfinder --inp code.go --source go --map --json > structure.json

# 2. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –≥–æ—Ä—è—á–∏–µ —Ç–æ—á–∫–∏
stat code.go -l go -n 20

# 3. –ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å
complexity . -l go -n 10

# 4. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
deps . -l go

# 5. –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (Microscope)
funcfinder --inp code.go --source go --func isDotPiperChar --extract
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã –∑–∞ —Å–µ–∫—É–Ω–¥—ã –≤–º–µ—Å—Ç–æ –º–∏–Ω—É—Ç!

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è gjson

–ù–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:

1. **isDotPiperChar()** (depth=11, 279 —Å—Ç—Ä–æ–∫)
   - –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–π
   - –ò–∑–≤–ª–µ—á—å –ª–æ–≥–∏–∫—É –≤ helper-—Ñ—É–Ω–∫—Ü–∏–∏

2. **IsObject()** (depth=8, 390 —Å—Ç—Ä–æ–∫)
   - –†–∞–∑–±–∏—Ç—å –Ω–∞ –ø–æ–¥—Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ JSON
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å state machine –≤–º–µ—Å—Ç–æ –≥–ª—É–±–æ–∫–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏

3. **Value()** (depth=8, 57 —Å—Ç—Ä–æ–∫)
   - –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –∫–æ—Ä–æ—Ç–∫—É—é –¥–ª–∏–Ω—É, –∏–º–µ–µ—Ç –≤—ã—Å–æ–∫—É—é –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å
   - –í–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ switch/case –≤–º–µ—Å—Ç–æ if/else

---

**–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é funcfinder v1.4.0**
*X-ray –¥–ª—è –ò–ò –∏ –º–∏–∫—Ä–æ—Å–∫–æ–ø –≤ –æ–¥–Ω–æ–º –ø–∞–∫–µ—Ç–µ* üî¨üîç
